# Project Context

This file is auto-generated by Puffin to provide context to Claude Code.

## Project Overview

**Project:** puffin

Puffin is an Electron-based GUI application that serves as a **management layer** on top of the Claude Code CLI (3CLI). Its primary purpose is to:

1. **Track and organize** 3CLI outputs and conversations
2. **Provide context** to 3CLI through project configuration and history
3. **Visualize** the development process (prompts, responses, branches)
4. **Communicate UI designs** via the GUI designer

**Important**: 3CLI remains in control of building the project. Puffin is an orchestration and tracking tool, not a replacement for the CLI's capabilities.

## Coding Preferences

- **Programming Style:** Hybrid (OOP + FP)
- **Testing Approach:** Behavior-Driven Development
- **Documentation Level:** Standard
- **Error Handling:** Exceptions
- **Naming Convention:** camelCase
- **Comment Style:** JSDoc

## Active User Stories

### ðŸ”„ Git Repository Detection

As a user, I want Puffin to detect when my project is in a Git repository so that Git integration features are available when applicable

**Acceptance Criteria:**
- Puffin detects the presence of a .git directory in the project root
- Git integration features are only displayed when a Git repository is detected
- A visual indicator shows the Git status (initialized/not initialized) in the UI
- Puffin displays a helpful message when Git is not initialized, suggesting the user run git init outside Puffin

### ðŸ“‹ View Current Branch Status

As a user, I want to see the current Git branch and its status so that I know which branch I'm working on and if there are uncommitted changes

**Acceptance Criteria:**
- The current branch name is displayed prominently in the UI
- The UI indicates if there are uncommitted changes
- The UI shows the number of commits ahead/behind the remote (if configured)
- The branch status updates automatically when changes occur

### ðŸ”„ Create New Feature Branch

As a user, I want to create a new feature branch from the current branch so that I can isolate my work for a new feature implementation

**Acceptance Criteria:**
- User can enter a branch name through a dialog or input field
- Branch name is validated for Git naming conventions
- The new branch is created from the current HEAD
- Puffin automatically switches to the new branch after creation
- An error message is displayed if branch creation fails (e.g., branch already exists)
- The branch name can optionally be prefixed with a configurable pattern (e.g., feature/, bugfix/)

### ðŸ”„ Stage and Commit Changes

As a user, I want to stage and commit my implemented code changes so that I can save my work with a meaningful commit message

**Acceptance Criteria:**
- User can view a list of changed files (staged, unstaged, untracked)
- User can stage individual files or all changes
- User can unstage files
- User can enter a commit message
- Commit message field validates that it is not empty
- Successful commit displays a confirmation with the commit hash
- Failed commits display an appropriate error message

### ðŸ”„ Merge Feature Branch to Main

As a user, I want to merge my feature branch into the main branch so that my completed work is integrated into the primary codebase

**Acceptance Criteria:**
- User can select the target branch to merge into (defaults to main/master)
- Puffin performs a merge operation from the current branch to the target branch
- User is warned if there are uncommitted changes before merging
- Successful merge displays a confirmation message
- Merge conflicts are detected and reported to the user with affected files listed
- User is given guidance on resolving merge conflicts outside Puffin

### ðŸ”„ Post-Merge Branch Workflow

As a user, I want Puffin to help me prepare for the next feature after a successful merge so that I can maintain a clean workflow

**Acceptance Criteria:**
- After a successful merge, user is prompted to create a new feature branch
- User can optionally delete the merged feature branch
- User can choose to stay on the main branch or switch to a new branch
- The workflow is optional and can be skipped

### ðŸ”„ Git Operation History Log

As a user, I want to see a log of Git operations performed through Puffin so that I can track what actions have been taken

**Acceptance Criteria:**
- A log displays recent Git operations (branch creation, commits, merges)
- Each log entry shows timestamp, operation type, and relevant details
- Log entries link to the associated implementation session if applicable
- User can view the full Git commit history for the current branch

### ðŸ“‹ Integration with Implementation Sessions

As a user, I want Git operations to be associated with my implementation sessions so that I can track which code changes correspond to which 3CLI conversations

**Acceptance Criteria:**
- Commits made through Puffin are linked to the active implementation session
- The session view shows associated commits
- Commit messages can optionally auto-include session or feature reference
- User can navigate from a commit to its related session and vice versa

### ðŸ“‹ Git Configuration Settings

As a user, I want to configure Git integration settings so that the workflow matches my preferences

**Acceptance Criteria:**
- User can set the default main branch name (main, master, or custom)
- User can configure branch naming prefixes (feature/, bugfix/, etc.)
- User can enable/disable automatic prompts for post-merge workflows
- Settings are persisted per project
- User can toggle Git integration on/off
