# Project Context

This file is auto-generated by Puffin to provide context to Claude Code.

## Project Overview

**Project:** puffin

Puffin is an Electron-based GUI application that serves as a **management layer** on top of the Claude Code CLI (3CLI). Its primary purpose is to:

1. **Track and organize** 3CLI outputs and conversations
2. **Provide context** to 3CLI through project configuration and history
3. **Visualize** the development process (prompts, responses, branches)
4. **Communicate UI designs** via the GUI designer

**Important**: 3CLI remains in control of building the project. Puffin is an orchestration and tracking tool, not a replacement for the CLI's capabilities.

## File Access Restrictions

**IMPORTANT: You must ONLY access files within this project directory.**

You are NOT allowed to:
- Read, write, or modify files outside this project
- Access parent directories or sibling projects
- Reference or use files from other projects on the system
- Execute commands that affect files outside the project root

All file operations must be scoped to this project directory and its subdirectories.

## Coding Preferences

- **Programming Style:** Hybrid (OOP + FP)
- **Testing Approach:** Behavior-Driven Development
- **Documentation Level:** Standard
- **Error Handling:** Exceptions
- **Naming Convention:** camelCase
- **Comment Style:** JSDoc

## Completed User Stories

The following stories have been completed and are available for reference:

- **Drag and Drop Post-it Notes Between Days**: As a developer, I want to drag and drop post-it notes from one calendar day to another so that I can quickly reschedule or reorganize my notes without manual editing
- **Copy and Paste Post-it Notes Between Days**: As a developer, I want to copy and paste post-it notes so that I can duplicate notes across multiple days without retyping the content
- **Increase Post-it Note Display Capacity**: As a developer, I want to see more than 2 post-it notes displayed on calendar days so that I can view all my notes without truncation
- **Fix XSS Vulnerability in BranchIndicator.renderInline**: As a developer, I want the BranchIndicator.renderInline method to escape HTML in branch names so that malicious branch names cannot execute arbitrary scripts
- **Fix Memory Leak in BranchIndicator Popover Event Listeners**: As a developer, I want the BranchIndicator component to properly clean up event listeners so that memory leaks do not occur when components are destroyed while popovers are open
- **Calendar Plugin Base Structure**: As a developer, I want a calendar plugin that integrates with Puffin's plugin system so that I can view my development activity organized by date
- **Week and Month View Toggle**: As a developer, I want to switch between weekly and monthly calendar views so that I can see my work at different time scales
- **Sprint History Panel on Day Selection**: As a developer, I want to click on a calendar day and see the sprints I worked on in a left panel so that I can review my daily development activity
- **Sprint User Stories Modal**: As a developer, I want to click on a sprint in the panel and see a modal with its user stories so that I can review the work completed in that sprint
- **Git Branch History Display on Calendar**: As a developer, I want to see the git branches I worked on displayed on each calendar day so that I can track my version control activity over time
- **Post-it Notes for Calendar Days**: As a developer, I want to attach post-it notes to any calendar day so that I can add personal reminders, annotations, or context to my development timeline
- **Fix Path Traversal Vulnerability in Image Delete**: As a developer, I want the deleteImage method to validate file paths so that malicious actors cannot delete arbitrary files outside the temp directory
- **Add Maximum File Size Validation for Image Upload**: As a developer, I want image uploads to enforce a maximum file size so that disk space cannot be exhausted by oversized files
- **Fix Paste Handler to Process All Images**: As a developer, I want pasting multiple images to attach all of them so that I don't lose images when pasting from clipboard
- **Limit Maximum Thumbnail Attachments to Five**: As a developer, I want a maximum of 5 image attachments so that the UI remains manageable and performance is maintained
- **Fix Pre-generation Race Condition in Sprint Close**: As a developer, I want the commit message pre-generation to properly await completion so that the modal always displays the generated message
- **Add Debouncing to Project Form Input Handler**: As a developer, I want input changes in the project form to be debounced so that rapid typing doesn't cause excessive updates
- **Add Null Checks to Project Form getFormData**: As a developer, I want getFormData to safely handle null values so that the application doesn't crash on missing form elements
- **Validate Plugin Icons Before DOM Insertion**: As a developer, I want plugin icons to be validated before insertion so that malicious or malformed content cannot be injected into the DOM
- **Drag and Drop Image File to Prompt**: As a developer, I want to drag and drop image files into the prompt input area so that I can easily attach screenshots or images to my Claude prompts
- **Copy and Paste Image to Prompt**: As a developer, I want to paste images from my clipboard into the prompt input area so that I can quickly attach screenshots without saving them to a file first
- **Image Attachment Preview and Management**: As a developer, I want to see previews of attached images and manage them before sending my prompt so that I can verify the correct images are included
- **Auto-generate Commit Message Before Sprint Close Panel**: As a developer, I want a commit message to be auto-generated before the sprint close panel opens so that I can review and edit it immediately without waiting
- **Code Commit Option in Sprint Close Panel**: As a developer, I want a commit option in the sprint close panel so that I can optionally commit my work when closing a sprint
- **Editable Commit Message in Sprint Close Panel**: As a developer, I want to view and edit the auto-generated commit message so that I can customize it before committing
- **Execute Git Commit on Sprint Close Submission**: As a developer, I want the git commit to execute when I submit the sprint close form with commit enabled so that my sprint work is properly versioned

---

## Branch Focus: UI/UX

You are working on the **UI/UX thread**. Focus on:
- User interface implementation
- Component design and structure
- Styling and visual consistency
- User interactions and feedback
- Accessibility and responsiveness

### Color Tokens

Use these CSS custom properties for colors:

| Token | Value | Usage |
|-------|-------|-------|
| `--color-primary` | `#6c63ff` | Main brand color |
| `--color-secondary` | `#16213e` | Secondary accent color |
| `--color-success` | `#48bb78` | Success state color |
| `--color-warning` | `#ecc94b` | Warning state color |
| `--color-error` | `#f56565` | Error state color |
| `--color-neutral` | `#e6e6e6` | Neutral text color |

### Spacing Scale

- **XS:** `0.25rem` - Extra small spacing
- **SM:** `0.5rem` - Small spacing
- **MD:** `0.75rem` - Medium spacing
- **LG:** `1rem` - Large spacing
- **XL:** `1.5rem` - Extra large spacing
- **2XL:** `2rem` - Double extra large spacing

### Border Radii

- **None:** `0`
- **Small:** `4px`
- **Medium:** `8px`
- **Large:** `12px`
- **Full:** `50%`

### Component Patterns

#### Primary Button

Main call-to-action button with primary styling

**Guidelines:** Use for primary actions like "Save", "Submit", "Create". Limit to one per page section.

**HTML Template:**
```html
<button class="btn btn-primary">Button Text</button>
```

**CSS:**
```css
.btn-primary {
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: var(--radius-small);
  padding: var(--spacing-md) var(--spacing-lg);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all 0.15s ease;
}

.btn-primary:hover {
  background: var(--color-primary-dark);
  transform: translateY(-1px);
}
```

### Layout Guidelines

# Layout Guidelines

## Grid System
- Use consistent spacing and grid structure
- Maintain proper visual hierarchy
- Consider responsive design principles

## Alignment
- Align elements consistently
- Use proper margins and padding
- Follow established layout patterns

### Component Guidelines

# Component Guidelines

## Consistency
- Reusable component patterns
- Consistent interaction patterns
- Standard component variants

## States
- Default, hover, focus, disabled states
- Loading and error states
- Active and selected states

### Interaction Guidelines

# Interaction Guidelines

## User Feedback
- Provide clear feedback for user actions
- Use appropriate animations and transitions
- Indicate loading and processing states

## Accessibility
- Keyboard navigation support
- Screen reader compatibility
- Touch-friendly targets for mobile

# Assigned Skills

## frontend-design

---
name: frontend-design
description: Create distinctive, production-grade frontend interfaces with high design quality. Use this skill when the user asks to build web components, pages, or applications. Generates creative, polished code that avoids generic AI aesthetics.
license: Complete terms in LICENSE.txt
---

This skill guides creation of distinctive, production-grade frontend interfaces that avoid generic "AI slop" aesthetics. Implement real working code with exceptional attention to aesthetic details and creative choices.

The user provides frontend requirements: a component, page, application, or interface to build. They may include context about the purpose, audience, or technical constraints.

## Design Thinking

Before coding, understand the context and commit to a BOLD aesthetic direction:
- **Purpose**: What problem does this interface solve? Who uses it?
- **Tone**: Pick an extreme: brutally minimal, maximalist chaos, retro-futuristic, organic/natural, luxury/refined, playful/toy-like, editorial/magazine, brutalist/raw, art deco/geometric, soft/pastel, industrial/utilitarian, etc. There are so many flavors to choose from. Use these for inspiration but design one that is true to the aesthetic direction.
- **Constraints**: Technical requirements (framework, performance, accessibility).
- **Differentiation**: What makes this UNFORGETTABLE? What's the one thing someone will remember?

**CRITICAL**: Choose a clear conceptual direction and execute it with precision. Bold maximalism and refined minimalism both work - the key is intentionality, not intensity.

Then implement working code (HTML/CSS/JS, React, Vue, etc.) that is:
- Production-grade and functional
- Visually striking and memorable
- Cohesive with a clear aesthetic point-of-view
- Meticulously refined in every detail

## Frontend Aesthetics Guidelines

Focus on:
- **Typography**: Choose fonts that are beautiful, unique, and interesting. Avoid generic fonts like Arial and Inter; opt instead for distinctive choices that elevate the frontend's aesthetics; unexpected, characterful font choices. Pair a distinctive display font with a refined body font.
- **Color & Theme**: Commit to a cohesive aesthetic. Use CSS variables for consistency. Dominant colors with sharp accents outperform timid, evenly-distributed palettes.
- **Motion**: Use animations for effects and micro-interactions. Prioritize CSS-only solutions for HTML. Use Motion library for React when available. Focus on high-impact moments: one well-orchestrated page load with staggered reveals (animation-delay) creates more delight than scattered micro-interactions. Use scroll-triggering and hover states that surprise.
- **Spatial Composition**: Unexpected layouts. Asymmetry. Overlap. Diagonal flow. Grid-breaking elements. Generous negative space OR controlled density.
- **Backgrounds & Visual Details**: Create atmosphere and depth rather than defaulting to solid colors. Add contextual effects and textures that match the overall aesthetic. Apply creative forms like gradient meshes, noise textures, geometric patterns, layered transparencies, dramatic shadows, decorative borders, custom cursors, and grain overlays.

NEVER use generic AI-generated aesthetics like overused font families (Inter, Roboto, Arial, system fonts), cliched color schemes (particularly purple gradients on white backgrounds), predictable layouts and component patterns, and cookie-cutter design that lacks context-specific character.

Interpret creatively and make unexpected choices that feel genuinely designed for the context. No design should be the same. Vary between light and dark themes, different fonts, different aesthetics. NEVER converge on common choices (Space Grotesk, for example) across generations.

**IMPORTANT**: Match implementation complexity to the aesthetic vision. Maximalist designs need elaborate code with extensive animations and effects. Minimalist or refined designs need restraint, precision, and careful attention to spacing, typography, and subtle details. Elegance comes from executing the vision well.

Remember: Claude is capable of extraordinary creative work. Don't hold back, show what can truly be created when thinking outside the box and committing fully to a distinctive vision.
