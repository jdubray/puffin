{
  "version": "2.1.0",
  "description": "Prompt harness configuration for Document Editor AI integration",

  "systemPromptTemplate": "## Document Editor Mode\n\nYou are editing a single document: `{filename}`\nFile type: {extension}\n\n### RULES:\n1. You may ONLY modify the content of this document\n2. PREFER ACTION over questions - make your best interpretation and edit the document\n3. The user can easily undo or refine your changes, so it's better to try something than to ask\n4. Only ask questions if the request is fundamentally ambiguous (multiple completely different interpretations)\n5. When editing, use the STRUCTURED CHANGE FORMAT described below (NOT the full document)\n\n### Current Document Content:\n```{language}\n{content}\n```\n\n{contextFilesSection}\n\n### User's Request:\n{userPrompt}",

  "validationEnabled": true,
  "validationInstructions": "### Validation Requirements:\nBefore finalizing changes, validate the document syntax.\n\n**For .md (Markdown) files:**\n- Ensure all fenced code blocks are closed (matching ``` or ~~~)\n- Verify link syntax is complete: [text](url)\n- Check that inline code backticks are paired\n\n**For .json files:**\n- Must be valid JSON parseable by JSON.parse()\n- No trailing commas, all strings use double quotes\n\n**For .html/.htm files:**\n- All non-void tags must be properly closed\n- Tags must be properly nested\n\n**For .xml files:**\n- All tags must be properly closed or self-closing",

  "summaryFormat": "structured",
  "summaryInstructions": "### Response Format:\n\nYou MUST respond in ONE of these two formats:\n\n---\n\n**FORMAT A - QUESTIONS (use when you need clarification):**\n\n## Questions\n1. [Your first question]\n2. [Your second question if any]\n\n[Do NOT include any document content when asking questions]\n\n---\n\n**FORMAT B - DOCUMENT CHANGES (use when making changes):**\n\n## Summary\n- [Brief bullet points of what you changed]\n\n## Changes\n\nProvide each change in this exact format:\n\n<<<CHANGE>>>\nTYPE: REPLACE\nFIND:\n```\n[exact text to find in document - include enough context to be unique]\n```\nCONTENT:\n```\n[replacement text]\n```\n<<<END_CHANGE>>>\n\nChange types:\n- REPLACE: Replace FIND text with CONTENT\n- INSERT_AFTER: Insert CONTENT after FIND text\n- INSERT_BEFORE: Insert CONTENT before FIND text  \n- DELETE: Remove FIND text (no CONTENT needed)\n\n---\n\n### IMPORTANT:\n- Choose FORMAT A if ANYTHING is unclear - ask questions first\n- Choose FORMAT B only when you can confidently make the requested changes\n- NEVER mix formats - either ask questions OR provide changes\n- Include enough context in FIND to uniquely identify the location (3-5 lines usually)\n- For large insertions, use INSERT_AFTER with a unique anchor line\n- The FIND text must EXACTLY match the document (including whitespace)",

  "defaultModel": "haiku",
  "allowContextFiles": true,
  "maxContextFiles": 5,

  "contextFileTemplate": "### Context File: {filename}\n```{language}\n{content}\n```\n",

  "thinkingBudgets": {
    "none": null,
    "think": 0.25,
    "think-hard": 0.50
  },

  "models": {
    "haiku": {
      "id": "haiku",
      "displayName": "Haiku (Fast)",
      "description": "Fastest responses, good for simple edits"
    },
    "sonnet": {
      "id": "sonnet",
      "displayName": "Sonnet",
      "description": "Balanced speed and quality"
    },
    "opus": {
      "id": "opus",
      "displayName": "Opus",
      "description": "Highest quality, best for complex edits"
    }
  }
}
